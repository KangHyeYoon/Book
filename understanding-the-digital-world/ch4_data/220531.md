# 암호 기법(cryptography)

A와 B가 비밀스럽게 메세지를 주고받기를 원한다면, 둘이서만 이해할 수 있게 메세지를 변형/복원하는 일정한 규칙의 비밀이 있어야 한다. 이것이 바로 `키(key)`이다. 현재 컴퓨터 기반 암호화 체계에서의 키는 어떤 알고리즘에 사용되는 아주 커다란 비밀 수이다.

## 암호 기법의 역사

> 카이사르 암호(Caesar cipher)
> 

율리우스 카이사르가 사용한 암호 기법으로, 각 글자를 세 자리씩 옮기는 간단한 암호화 방식이다. 현재 `rot13` 프로그램(13자리만큼 옮김)으로 남아있다.

> 스코틀랜드의 여왕 메리
> 

메리는 허술한 암호 기법으로 반역자들과 반역을 공모하다가 참수당했다.

> 2차 세계대전과 에니그마(Enigma)
> 

암호화된 독일 군용 통신을 영국군이 튜링 기술로 해독한 덕분에 2차 세계대전이 빨리 종전됐다는 소문이 있다.

## 비밀 키 암호 기법(secret-key cryptography)

- 대칭 키 암호 기법이라고도 불린다.
- `하나의 같은 비밀 키`를 사용하여 메세지를 암호화 및 복호화한다.
- 무차별 대입 공격(brute force attack)만으로 해독이 가능하다.

> AES(Advanced Encryption Standard, 고급 암호화 표준)
> 

128비트, 192비트, 256비트의 길이를 제공하는 비밀 키 알고리즘. 현재 가장 널리 사용된다.

### 문제점 : 키 분배(key distribution)

통신중인 사람들 당사자는 키를 알아야만 하는데, 이 키를 전달(분배)하는 과정에서도 보안 문제가 생긴다. 만약 키를 전달해야 하는 사람이 일반인이 아니라 적국에 잠입한 스파이라면 비밀 키를 보내기 위한 안전하고 확실한 채널이 없을 수도 있다.

## 공캐 키 암호 기법

- 휫필드 디피와 마틴 헬먼이 발명했으며, 이 업적으로 튜링상을 수상했다.
- `공개 키`와 `개인 키`로 구성된 **키 쌍**을 기반으로 한다. 둘 중 하나로 암호화된 메세지는 다른 하나의 키로만 해독할 수 있도록 얽혀져 있다. A가 B에게 비밀 메세지를 보낼 때, B의 공개 키를 사용하여 암호화한다. B는 자신만의 개인 키로 그 메세지를 해독한다.
- 키 분배를 해결해 준다

### 인터넷 보안 통신 기술의 필수 구성 요소

온라인 쇼핑을 할 때, 나는 아마존에 내 신용카드 정보를 입력해야 한다.

1. 아마존과 나는 공유된 비밀 키가 없으므로 내 브라우저는 무작위로 `임시 키`를 생성한다.
2. 브라우저가 아마존의 공개 키를 사용하여 신용카드 정보를 암호화한다.
3. 아마존은 자체 개인 키를 사용하여 임시 키를 해독한다.

이제 아마존과 내 브라우저는 임시 키를 공유하므로, AES로 신용카드 정보를 보호할 수 있다.

### 문제점 : 속도 저하

공개 키 암호 기법은 AES보다 훨씬 느리기 때문에, 모든 정보를 공개 키 처리하기 보다는 “입구”만을 공개 키로 처리하고, 나머지 내부의 대량의 데이터는 AES로 전송하는 방식이 선호된다. 이렇게 하면 인터넷 데이터 통신의 각 단계가 전부 보안이 유지되며, 대표적인 예시로는 HTTPS 프로토콜(보안 처리된 HTTP)이 있다.

> 디지털 서명(digital signature)과 순방향 비밀성(forward secrecy)
> 
- 디지컬 서명 : 개인 키가 해킹당했을 경우를 대비해 메세지를 보낼 때 패스워드를 입력하게 한다.
- 순방향 비밀성 : 그러나 이조차 해킹당했을 경우를 대비하여 패스워드를 일회용으로 사용하여 모든 메세지마다 다른 패스워드를 입력하게끔 한다.

이 때 위조할 수 없는 방식으로 원본에서 도출한 작은 값으로 간접 서명을 하는 것이 보통하는데, 이 값을 `메세지 다이제스트(message digest)`혹은 `암호 해시(cryptographic hash)`라고 한다. 이는 해킹하는 것이 계산적으로 실행이 불가능하다.

## 인증서(certicate)

최신 암호 기법은 놀라운 성능을 보이지만, 제 3자 기관의 신뢰가 더 필요하다. 내가 무신사에서 쇼핑을 할 때, 내가 방문하고 있는 것이 정말로 무신사인지는 어떻게 알겠는가? 내가 무신사를 방문하면 무신사는 나에게 자신의 신원을 입증할 디지털 서명 정보 모음인 `인증서`를 보낸다. 단, 이는 인증서를 발급하는 인증 기관을 신뢰할 수 있다는 전제 하에서만 유효하다.