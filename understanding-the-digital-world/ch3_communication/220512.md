# 포트(port)

> 두 호스트 컴퓨터 간에 TCP 연결이 설정되면 이 연결은 컴퓨터 뿐만 아니라 컴퓨터의 특정 `포트(port)`에도 연결된다.
> 

각 포트는 서로 다른 대화를 나타내기 때문에 이론상으로 호스트는 65,536개(16비트)의 서로 다른 TCP 대화를 동시에 진행할 수 있다. (회사에 단일 전화번호-컴퓨터-가 있고, 직원마다 내선 번호-포트-가 있는 것처럼 말이다.)

예를 들어 구글 웹 사이트에 접근할 때 80번 포트(웹 서버)에 TCP 연결을 설정하고, 지메일에 접근할 때 25번 포트(메일 서버)를 사용하여 접근한다. 주소(출발지 포트와 목적지 포트)는 데이터와 함께 TCP 헤더에 담겨 있다.

# 최상위 프로토콜

## HTTP

> 인터넷 서비스와 애플리케이션은 `TCP`를 전송 메커니즘으로 사용하지만 기능별로 특정한 자신만의 프로토콜(포트에 연결)을 갖는데, 그 중 대표적인 것이 바로 `HTTP`이다.
> 

사용자의 링크 클릭 → [클라이언트]브라우저가 서버의 80번 포트에 TCP/IP 연결을 열고 특정 페이지를 요청하는 메세지를 보냄 → 메세지는 인터넷을 가로질러(정확히 말하면 TCP/IP 5계층을 건너) 서버의 애플리케이션 층에 전달됨 → 서버는 페이지를 준비한 후 사용자에게 보냄 → 브라우저는 이 응답을 읽고 페이지 내용을 표시

![HTTP](https://user-images.githubusercontent.com/97890886/168003631-ffee225a-f624-4518-8848-472b98348c2b.png)

## 텔넷(telnet)

원격 접근 기능.

- ‘클라이언트의 키 입력을 받아 서버에 입력된 것(정석)’ 처럼 서버로 키 입력을 전달 → 서버의 출력을 가로채 클라이언트에게 반환.
- 텔넷으로 인터넷 상의 모든 컴퓨터를 마치 로컬 네트워크처럼 사용할 수 있다. 예를 들어 다음과 같은 코드를 입력 시 :

```powershell
$telnet www.google.com 80
GET /search?q=검색어
```

110,000 바이트 이상의 결과(검색 결과가 포함된 방대한 페이지의 데이터-대부분은 자바스크립트 코드이다-)를 얻을 수 있다.

> SSH(Secure Shell, 시큐어 셸)
> 

텔넷에서 유래했으나 텔넷과는 다르게 `보안 기능`이 있다.

- 양방향의 모든 트래픽을 암호화한다.
- 22번 포트를 사용한다.

## 단순 메일 전송 프로토콜(SMTP)

다른 시스템과 메일을 교환하는 데 사용됨. 25번 포트 사용. SMTP을 사용하여 마치 다른 사람에게 온 것처럼 나 자신에게 메일을 보내는 등 터무니없지만 재미있는 짓을 할 수 있다.

## P2P(peer-to-peer)

> 냅스터(Napster)
> 

대학생 숀 패닝이 만든 약 2년동안 유행했던 음악 공유 프로그램. 클라이언트(브라우저)가 서버(웹 사이트)에 뭔가 요청하는 일반적인 클라이언트-서버 모델과는 달리,

- 음악 자체는 피어(사용자)들의 컴퓨터에만 저장되지 않고 중앙 서버에는 저장되지 않는다
- 냅스터 중앙 서버는 공유 가능한(온라인 상태+음악 공유 모드를 킨 유저가 존재함) 음악 목록을 관리하는 중앙 디렉토리만을 제공

> 비트토렌트(BitTorrent)
> 

`토렌트 파일`을 사용해 누가 어떤 파일 블록을 주고받았는지 기록을 유지하는 서버(트래커)를 식별. 단 저작권 침해 탐지기에 걸리기 쉬움.

> 비트코인(Bitcoin)
> 

비트코인도 P2P 프로토콜을 사용